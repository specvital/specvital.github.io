# public.test_files

## Description

## Columns

| Name         | Type          | Default           | Nullable | Children                                    | Parents                               | Comment |
| ------------ | ------------- | ----------------- | -------- | ------------------------------------------- | ------------------------------------- | ------- |
| id           | uuid          | gen_random_uuid() | false    | [public.test_suites](public.test_suites.md) |                                       |         |
| analysis_id  | uuid          |                   | false    |                                             | [public.analyses](public.analyses.md) |         |
| file_path    | varchar(1000) |                   | false    |                                             |                                       |         |
| framework    | varchar(50)   |                   | true     |                                             |                                       |         |
| domain_hints | jsonb         |                   | true     |                                             |                                       |         |

## Constraints

| Name                        | Type        | Definition                                                          |
| --------------------------- | ----------- | ------------------------------------------------------------------- |
| fk_test_files_analysis      | FOREIGN KEY | FOREIGN KEY (analysis_id) REFERENCES analyses(id) ON DELETE CASCADE |
| test_files_pkey             | PRIMARY KEY | PRIMARY KEY (id)                                                    |
| uq_test_files_analysis_path | UNIQUE      | UNIQUE (analysis_id, file_path)                                     |

## Indexes

| Name                        | Definition                                                                                                |
| --------------------------- | --------------------------------------------------------------------------------------------------------- |
| test_files_pkey             | CREATE UNIQUE INDEX test_files_pkey ON public.test_files USING btree (id)                                 |
| uq_test_files_analysis_path | CREATE UNIQUE INDEX uq_test_files_analysis_path ON public.test_files USING btree (analysis_id, file_path) |
| idx_test_files_analysis     | CREATE INDEX idx_test_files_analysis ON public.test_files USING btree (analysis_id)                       |

## Relations

```mermaid
erDiagram

"public.test_suites" }o--|| "public.test_files" : "FOREIGN KEY (file_id) REFERENCES test_files(id) ON DELETE CASCADE"
"public.test_files" }o--|| "public.analyses" : "FOREIGN KEY (analysis_id) REFERENCES analyses(id) ON DELETE CASCADE"

"public.test_files" {
  uuid id
  uuid analysis_id FK
  varchar_1000_ file_path
  varchar_50_ framework
  jsonb domain_hints
}
"public.test_suites" {
  uuid id
  uuid parent_id FK
  varchar_500_ name
  integer line_number
  integer depth
  uuid file_id FK
}
"public.analyses" {
  uuid id
  uuid codebase_id FK
  varchar_40_ commit_sha
  varchar_255_ branch_name
  analysis_status status
  text error_message
  timestamp_with_time_zone started_at
  timestamp_with_time_zone completed_at
  timestamp_with_time_zone created_at
  integer total_suites
  integer total_tests
  timestamp_with_time_zone committed_at
  varchar_100_ parser_version
}
```

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
