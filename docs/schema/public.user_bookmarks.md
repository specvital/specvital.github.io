# public.user_bookmarks

## Description

## Columns

| Name        | Type                     | Default           | Nullable | Children | Parents                                 | Comment |
| ----------- | ------------------------ | ----------------- | -------- | -------- | --------------------------------------- | ------- |
| user_id     | uuid                     |                   | false    |          | [public.users](public.users.md)         |         |
| codebase_id | uuid                     |                   | false    |          | [public.codebases](public.codebases.md) |         |
| created_at  | timestamp with time zone | now()             | false    |          |                                         |         |
| id          | uuid                     | gen_random_uuid() | false    |          |                                         |         |

## Constraints

| Name                            | Type        | Definition                                                           |
| ------------------------------- | ----------- | -------------------------------------------------------------------- |
| fk_user_bookmarks_codebase      | FOREIGN KEY | FOREIGN KEY (codebase_id) REFERENCES codebases(id) ON DELETE CASCADE |
| fk_user_bookmarks_user          | FOREIGN KEY | FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE         |
| user_bookmarks_pkey             | PRIMARY KEY | PRIMARY KEY (id)                                                     |
| uq_user_bookmarks_user_codebase | UNIQUE      | UNIQUE (user_id, codebase_id)                                        |

## Indexes

| Name                            | Definition                                                                                                      |
| ------------------------------- | --------------------------------------------------------------------------------------------------------------- |
| idx_user_bookmarks_user         | CREATE INDEX idx_user_bookmarks_user ON public.user_bookmarks USING btree (user_id, created_at)                 |
| user_bookmarks_pkey             | CREATE UNIQUE INDEX user_bookmarks_pkey ON public.user_bookmarks USING btree (id)                               |
| uq_user_bookmarks_user_codebase | CREATE UNIQUE INDEX uq_user_bookmarks_user_codebase ON public.user_bookmarks USING btree (user_id, codebase_id) |

## Relations

```mermaid
erDiagram

"public.user_bookmarks" }o--|| "public.users" : "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"
"public.user_bookmarks" }o--|| "public.codebases" : "FOREIGN KEY (codebase_id) REFERENCES codebases(id) ON DELETE CASCADE"

"public.user_bookmarks" {
  uuid user_id FK
  uuid codebase_id FK
  timestamp_with_time_zone created_at
  uuid id
}
"public.users" {
  uuid id
  varchar_255_ email
  varchar_255_ username
  text avatar_url
  timestamp_with_time_zone last_login_at
  timestamp_with_time_zone created_at
  timestamp_with_time_zone updated_at
  integer token_version
}
"public.codebases" {
  uuid id
  varchar_255_ host
  varchar_255_ owner
  varchar_255_ name
  varchar_100_ default_branch
  timestamp_with_time_zone created_at
  timestamp_with_time_zone updated_at
  timestamp_with_time_zone last_viewed_at
  varchar_64_ external_repo_id
  boolean is_stale
  boolean is_private
}
```

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
