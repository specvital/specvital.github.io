# public.spec_domains

## Description

## Columns

| Name                      | Type                     | Default           | Nullable | Children                                        | Parents                                           | Comment |
| ------------------------- | ------------------------ | ----------------- | -------- | ----------------------------------------------- | ------------------------------------------------- | ------- |
| id                        | uuid                     | gen_random_uuid() | false    | [public.spec_features](public.spec_features.md) |                                                   |         |
| document_id               | uuid                     |                   | false    |                                                 | [public.spec_documents](public.spec_documents.md) |         |
| name                      | varchar(255)             |                   | false    |                                                 |                                                   |         |
| description               | text                     |                   | true     |                                                 |                                                   |         |
| sort_order                | integer                  | 0                 | false    |                                                 |                                                   |         |
| classification_confidence | numeric(3,2)             |                   | true     |                                                 |                                                   |         |
| created_at                | timestamp with time zone | now()             | false    |                                                 |                                                   |         |
| updated_at                | timestamp with time zone | now()             | false    |                                                 |                                                   |         |

## Constraints

| Name                     | Type        | Definition                                                                |
| ------------------------ | ----------- | ------------------------------------------------------------------------- |
| fk_spec_domains_document | FOREIGN KEY | FOREIGN KEY (document_id) REFERENCES spec_documents(id) ON DELETE CASCADE |
| spec_domains_pkey        | PRIMARY KEY | PRIMARY KEY (id)                                                          |

## Indexes

| Name                           | Definition                                                                                               |
| ------------------------------ | -------------------------------------------------------------------------------------------------------- |
| spec_domains_pkey              | CREATE UNIQUE INDEX spec_domains_pkey ON public.spec_domains USING btree (id)                            |
| idx_spec_domains_document_sort | CREATE INDEX idx_spec_domains_document_sort ON public.spec_domains USING btree (document_id, sort_order) |

## Relations

```mermaid
erDiagram

"public.spec_features" }o--|| "public.spec_domains" : "FOREIGN KEY (domain_id) REFERENCES spec_domains(id) ON DELETE CASCADE"
"public.spec_domains" }o--|| "public.spec_documents" : "FOREIGN KEY (document_id) REFERENCES spec_documents(id) ON DELETE CASCADE"

"public.spec_domains" {
  uuid id
  uuid document_id FK
  varchar_255_ name
  text description
  integer sort_order
  numeric_3_2_ classification_confidence
  timestamp_with_time_zone created_at
  timestamp_with_time_zone updated_at
}
"public.spec_features" {
  uuid id
  uuid domain_id FK
  varchar_255_ name
  text description
  integer sort_order
  timestamp_with_time_zone created_at
  timestamp_with_time_zone updated_at
}
"public.spec_documents" {
  uuid id
  uuid analysis_id FK
  bytea content_hash
  varchar_10_ language
  text executive_summary
  varchar_100_ model_id
  timestamp_with_time_zone created_at
  timestamp_with_time_zone updated_at
  integer version
  uuid user_id FK
}
```

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
