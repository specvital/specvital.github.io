# public.subscription_plans

## Description

## Columns

| Name                   | Type                     | Default           | Nullable | Children                                                  | Parents | Comment |
| ---------------------- | ------------------------ | ----------------- | -------- | --------------------------------------------------------- | ------- | ------- |
| id                     | uuid                     | gen_random_uuid() | false    | [public.user_subscriptions](public.user_subscriptions.md) |         |         |
| tier                   | plan_tier                |                   | false    |                                                           |         |         |
| specview_monthly_limit | integer                  |                   | true     |                                                           |         |         |
| analysis_monthly_limit | integer                  |                   | true     |                                                           |         |         |
| retention_days         | integer                  |                   | true     |                                                           |         |         |
| created_at             | timestamp with time zone | now()             | false    |                                                           |         |         |
| monthly_price          | integer                  |                   | true     |                                                           |         |         |

## Constraints

| Name                       | Type        | Definition       |
| -------------------------- | ----------- | ---------------- |
| subscription_plans_pkey    | PRIMARY KEY | PRIMARY KEY (id) |
| uq_subscription_plans_tier | UNIQUE      | UNIQUE (tier)    |

## Indexes

| Name                       | Definition                                                                                     |
| -------------------------- | ---------------------------------------------------------------------------------------------- |
| subscription_plans_pkey    | CREATE UNIQUE INDEX subscription_plans_pkey ON public.subscription_plans USING btree (id)      |
| uq_subscription_plans_tier | CREATE UNIQUE INDEX uq_subscription_plans_tier ON public.subscription_plans USING btree (tier) |

## Relations

```mermaid
erDiagram

"public.user_subscriptions" }o--|| "public.subscription_plans" : "FOREIGN KEY (plan_id) REFERENCES subscription_plans(id) ON DELETE RESTRICT"

"public.subscription_plans" {
  uuid id
  plan_tier tier
  integer specview_monthly_limit
  integer analysis_monthly_limit
  integer retention_days
  timestamp_with_time_zone created_at
  integer monthly_price
}
"public.user_subscriptions" {
  uuid id
  uuid user_id FK
  uuid plan_id FK
  subscription_status status
  timestamp_with_time_zone current_period_start
  timestamp_with_time_zone current_period_end
  timestamp_with_time_zone canceled_at
  timestamp_with_time_zone created_at
  timestamp_with_time_zone updated_at
}
```

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
